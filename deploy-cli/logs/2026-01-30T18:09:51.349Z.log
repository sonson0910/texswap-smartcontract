{"level":30,"time":1769796591362,"msg":"========================================"}
{"level":30,"time":1769796591364,"msg":"FaucetAMM Contract Deployment on PREVIEW NETWORK"}
{"level":30,"time":1769796591364,"msg":"========================================"}
{"level":30,"time":1769796591364,"msg":"Step 1: Initializing wallet from mnemonic..."}
{"level":30,"time":1769796591364,"msg":"Building wallet from mnemonic..."}
{"level":30,"time":1769796591479,"msg":"Your wallet address: mn_addr_preview17mdawv4sf845jw4rlepl93m3q0hs7ekpntcx0gnzsrkrl2rx46eskt64lm"}
{"level":30,"time":1769796591479,"msg":"Waiting for wallet to sync..."}
{"level":30,"time":1769796591487,"msg":"Waiting for wallet sync. Synced: false"}
{"level":30,"time":1769796622818,"msg":"Waiting for wallet sync. Synced: true"}
{"level":30,"time":1769796622831,"msg":"Unshielded balance: 1000000000 tSTAR"}
{"level":30,"time":1769796622831,"msg":"Shielded balance: 0 tSTAR"}
{"level":30,"time":1769796622831,"msg":"Total balance: 1000000000 tSTAR"}
{"level":30,"time":1769796622839,"msg":"Found 1 unshielded Night UTXOs not registered for dust generation"}
{"level":30,"time":1769796622839,"msg":"Registering Night UTXOs for dust generation..."}
{"level":30,"time":1769796623732,"msg":"Finalizing dust registration transaction..."}
{"level":50,"time":1769796623746,"msg":"Failed to register Night UTXOs for dust: (FiberFailure) Wallet.Proving: Failed to prove transaction\n    at Object.onFailure (file:///media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/@midnight-ntwrk/wallet-sdk-shielded/dist/v1/Proving.js:23:272)\n    at <anonymous> (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/core.ts:910:24)\n    at <anonymous> (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1195:44)\n    at body (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/Utils.ts:786:14)\n    at FiberRuntime.Failure (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1195:20)\n    at <anonymous> (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1393:53)\n    at Object.f (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/tracer.ts:101:19)\n    at FiberRuntime.runLoop (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1379:34)\n    at FiberRuntime.evaluateEffect (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:945:27)\n    at FiberRuntime.evaluateMessageWhileSuspended (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:913:14) {\n  [cause]: ClientError: Failed to prove transaction\n      at catch (file:///media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/@midnight-ntwrk/wallet-sdk-prover-client/dist/effect/HttpProverClient.js:70:19)\n      at /media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/core-effect.ts:1683:29\n      at <anonymous> (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1156:41)\n      at body (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/Utils.ts:786:14)\n      at FiberRuntime.Sync (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1156:19)\n      at <anonymous> (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1393:53)\n      at Object.f (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/tracer.ts:101:19)\n      at FiberRuntime.runLoop (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1379:34)\n      at FiberRuntime.evaluateEffect (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:945:27)\n      at FiberRuntime.evaluateMessageWhileSuspended (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:913:14) {\n    [cause]: TypeError: transaction.prove is not a function\n        at try (file:///media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/@midnight-ntwrk/wallet-sdk-prover-client/dist/effect/HttpProverClient.js:67:36)\n        at <anonymous> (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/core-effect.ts:1701:7)\n        at <anonymous> (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/core.ts:543:46)\n        at body (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/Utils.ts:786:14)\n        at <anonymous> (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/core.ts:543:21)\n        at <anonymous> (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1348:34)\n        at body (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/Utils.ts:786:14)\n        at FiberRuntime.Commit (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1348:12)\n        at <anonymous> (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/fiberRuntime.ts:1393:53)\n        at Object.f (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/effect/src/internal/tracer.ts:101:19)\n  }\n}"}
{"level":30,"time":1769796623746,"msg":"Step 2: Configuring providers..."}
{"level":30,"time":1769796623748,"section":"DUST Wallet State","dust":{"capabilities":{"coinsAndBalances":{},"keys":{},"serialization":{}},"protocolVersion":0,"state":{"networkId":"preview","pendingDustTokens":[],"progress":{"appliedIndex":489,"highestIndex":0,"highestRelevantIndex":0,"highestRelevantWalletIndex":489,"isConnected":true},"protocolVersion":0,"publicKey":{"publicKey":15910875447565964891213978322799052612442083852947537543067608621265097140841},"state":{"__wbg_ptr":7448352}}}}
{"level":30,"time":1769796623749,"section":"Shielded Wallet State","shielded":{"capabilities":{"coinsAndBalances":{},"keys":{},"serialization":{},"transactionHistory":{}},"protocolVersion":0,"state":{"coinHashes":{},"networkId":"preview","progress":{"appliedIndex":482,"highestIndex":0,"highestRelevantIndex":0,"highestRelevantWalletIndex":482,"isConnected":true},"protocolVersion":0,"publicKeys":{"coinPublicKey":"e1aa86317907c717908b15a9b480774a2ede12a95217dc8bff486be9664e2717","encryptionPublicKey":"b4732bf85983ed47631e2bd2ee918918ba3a3f2a67fdf17412d41280d065f3c8"},"state":{"__wbg_ptr":4951000},"txHistoryArray":[]}}}
{"level":30,"time":1769796623750,"section":"Unshielded Wallet State","unshielded":{"capabilities":{"coinsAndBalances":{},"keys":{},"serialization":{},"transactionHistory":{}},"protocolVersion":0,"state":{"networkId":"preview","progress":{"appliedId":245,"highestTransactionId":245,"isConnected":true},"protocolVersion":0,"publicKey":{"address":"mn_addr_preview17mdawv4sf845jw4rlepl93m3q0hs7ekpntcx0gnzsrkrl2rx46eskt64lm","addressHex":"f6dbd732b049eb493aa3fe43f2c77103ef0f66c19af067a26280ec3fa866aeb3","publicKey":"9f53d5c876fa6229cba7361c35d709c7d1c0334c0c29ae4f199750c9a3244e92"},"state":{"availableUtxos":{"_id":"HashMap","values":["[Array]"]},"pendingUtxos":{"_id":"HashMap","values":[]}}}}}
{"level":30,"time":1769796623757,"msg":"Step 3: Deploying FaucetAMM contract..."}
{"level":30,"time":1769796623758,"msg":"Deploying FaucetAMM contract with feeBps = 10..."}
{"level":50,"time":1769796623806,"msg":"Deployment failed:"}
{"level":50,"time":1769796623806,"msg":"Unable to deserialize ContractState. Error: expected header tag 'midnight:contract-state[v4]:', got 'midnight:contract-state[v5]:'"}
{"level":50,"time":1769796623807,"msg":"Error: Unable to deserialize ContractState. Error: expected header tag 'midnight:contract-state[v4]:', got 'midnight:contract-state[v5]:'\n    at __wbindgen_error_new (file:///media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/@midnight-ntwrk/ledger-v6/midnight_ledger_wasm_bg.js:9437:17)\n    at wasm://wasm/023333ae:wasm-function[11826]:0x546619\n    at wasm://wasm/023333ae:wasm-function[8061]:0x469ae8\n    at wasm://wasm/023333ae:wasm-function[9717]:0x4ff151\n    at ContractState.deserialize (file:///media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/@midnight-ntwrk/ledger-v6/midnight_ledger_wasm_bg.js:2632:26)\n    at toLedgerContractState (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/@midnight-ntwrk/midnight-js-contracts/src/utils/ledger-utils.ts:58:23)\n    at createUnprovenLedgerDeployTx (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/@midnight-ntwrk/midnight-js-contracts/src/utils/ledger-utils.ts:109:31)\n    at createUnprovenDeployTxFromVerifierKeys (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/@midnight-ntwrk/midnight-js-contracts/src/unproven-deploy-tx.ts:140:63)\n    at createUnprovenDeployTx (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/@midnight-ntwrk/midnight-js-contracts/src/unproven-deploy-tx.ts:196:10)\n    at async submitDeployTx (/media/son/Projects1/venera/midnight/tutorial/learn_build/exp2/midnight-dex-contract/deploy-cli/node_modules/@midnight-ntwrk/midnight-js-contracts/src/submit-deploy-tx.ts:88:32)"}
